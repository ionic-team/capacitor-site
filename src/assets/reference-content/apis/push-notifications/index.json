{"title":"Push Notifications","description":"Push Notifications API","url":"/docs/apis/push-notifications","contributors":["mlynch","jcesarmobile"],"headings":[{"id":"push-notifications","level":1,"text":"Push Notifications"},{"id":"enabling-push-notifications-capabilites","level":2,"text":"Enabling Push Notifications Capabilites"},{"id":"push-notifications-icon","level":2,"text":"Push Notifications icon"},{"id":"disabling-push-notifications-plugin","level":2,"text":"Disabling Push Notifications plugin"},{"id":"push-notifications-appearance-in-foreground","level":2,"text":"Push notifications appearance in foreground"},{"id":"example-guides","level":2,"text":"Example Guides"},{"id":"api","level":2,"text":"API"}],"srcPath":"./docs/reference/apis/push-notifications/index.md","content":"<p><plugin-platforms platforms=\"ios,android\"></plugin-platforms></p>\n\n<h1 id=\"push-notifications\">\n  \n  Push Notifications\n  \n</h1>\n<p>The Push Notifications API provides methods for registering a device to receive notifications from a server, along with processing received notifications and responding to them. In contrast, the <a href=\"/docs/apis/local-notifications\">Local Notifications</a> API provides means for offline, local notification scheduling and processing.</p>\n\n<h2 id=\"enabling-push-notifications-capabilites\">\n  <a class=\"heading-link\" href=\"#enabling-push-notifications-capabilites\"><ion-icon name=\"link\"></ion-icon>\n  Enabling Push Notifications Capabilites\n  </a>\n</h2>\n<p>On iOS you must enable Push Notifications Capabilities in your project to enable the Push Notifications plugin to work. To do so, go to the <code>Capabilities</code> section of the app project and switch the <code>Push Notifications</code> button from <code>OFF</code> to the <code>ON</code> position.</p>\n<p>This change adds the push capabilites to the app and creates an entitlements file in the project.</p>\n<p><img src=\"/assets/img/docs/ios/enable-push-capabilities.png\" alt=\"Enabling Push Notifications Capabilities\"></p>\n<p>On Android just download the app project&#39;s <code>google-services.json</code> file from the Firebase console, and place it in the  <code>projectName/android/app</code> folder.</p>\n\n<h2 id=\"push-notifications-icon\">\n  <a class=\"heading-link\" href=\"#push-notifications-icon\"><ion-icon name=\"link\"></ion-icon>\n  Push Notifications icon\n  </a>\n</h2>\n<p>On Android, the Push Notifications icon with the appropriate name should be added to the <code>AndroidManifest.xml</code> file:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta-data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.google.firebase.messaging.default_notification_icon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>resource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@mipmap/push_icon_name<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n  </highlight-code-line>\n  <p>If no icon is specified Android will use the application icon, but push icon should be white pixels on a transparent backdrop. As the application icon is not usually like that, it will show a white square or circle. So it&#39;s recommended to provide the separate icon for Push Notifications.</p>\n<p>Android Studio has an icon generator you can use to create your Push Notifications icon.</p>\n\n<h2 id=\"disabling-push-notifications-plugin\">\n  <a class=\"heading-link\" href=\"#disabling-push-notifications-plugin\"><ion-icon name=\"link\"></ion-icon>\n  Disabling Push Notifications plugin\n  </a>\n</h2>\n<p>If you are not using Push Notifications in your project, when you submit the app to iTunes Connect, Apple will send you an email saying it has issues because of <code>Missing Push Notification Entitlement</code>. That happens because Capacitor includes the code for registering for push notifications and getting the token.</p>\n<p>Apple sends that mail just to make sure you didn&#39;t make a mistake and forgot to enable Push Notifications Capabilities in your app, but can safely ignore it if you are not using the Push Notifications plugin.</p>\n<p>In case you don&#39;t want to receive the mail, you can disable the Push Notifications plugin by removing <code>USE_PUSH</code> from <code>Active Compilation Conditions</code> in your project&#39;s Build Settings section.</p>\n<p><img src=\"/assets/img/docs/ios/disable-push-plugin.png\" alt=\"Disable Push Notifications\"></p>\n\n<h2 id=\"push-notifications-appearance-in-foreground\">\n  <a class=\"heading-link\" href=\"#push-notifications-appearance-in-foreground\"><ion-icon name=\"link\"></ion-icon>\n  Push notifications appearance in foreground\n  </a>\n</h2>\n<p>On iOS you can configure the way the push notifications are displayed when the app is in foreground by providing the <code>presentationOptions</code> in your <code>capacitor.config.json</code> as an Array of Strings you can combine.</p>\n<p>Possible values are:</p>\n<ul>\n<li><code>badge</code>: badge count on the app icon is updated (default value)</li>\n<li><code>sound</code>: the device will ring/vibrate when the push notification is received</li>\n<li><code>alert</code>: the push notification is displayed in a native dialog</li>\n</ul>\n<p>An empty Array can be provided if none of the previous options are desired. <code>pushNotificationReceived</code> event will still be fired with the push notification information.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-json\"><code><span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"PushNotifications\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"presentationOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"badge\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"sound\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"alert\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  <p><plugin-api index=\"true\" name=\"push-notifications\"></plugin-api></p>\n\n<h2 id=\"example-guides\">\n  <a class=\"heading-link\" href=\"#example-guides\"><ion-icon name=\"link\"></ion-icon>\n  Example Guides\n  </a>\n</h2>\n<p><a href=\"/docs/guides/push-notifications-firebase\">Using Push Notifications with Firebase in an Ionic Angular App</a></p>\n\n<h2 id=\"api\">\n  <a class=\"heading-link\" href=\"#api\"><ion-icon name=\"link\"></ion-icon>\n  API\n  </a>\n</h2>\n<p><plugin-api name=\"push-notifications\"></plugin-api></p>\n"}