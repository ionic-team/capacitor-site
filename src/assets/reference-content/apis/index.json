{"title":"Capacitor Plugins","description":"Capacitor Plugins","url":"/docs/apis","contributors":["mlynch","jcesarmobile","ehorodyski-ionic"],"headings":[{"id":"capacitor-plugin-apis","level":1,"text":"Capacitor Plugin APIs"},{"id":"api-usage","level":2,"text":"API Usage"},{"id":"angular-notes","level":3,"text":"Angular Notes"}],"srcPath":"./docs/reference/apis/index.md","content":"\n<h1 id=\"capacitor-plugin-apis\">\n  \n  Capacitor Plugin APIs\n  \n</h1>\n<p>Capacitor includes a number of native plugin APIs that are available to all Capacitor apps. These can be thought of as Capacitor &quot;core plugins,&quot; and they make it easy to access commonly needed functionality on each platform.</p>\n<p>For those coming from Cordova, the core Capacitor plugins cover much of the core Cordova plugins, and also include some new ones.</p>\n<p>See the Plugins list on the left menu for the full list of available plugins.</p>\n\n<h2 id=\"api-usage\">\n  <a class=\"heading-link\" href=\"#api-usage\"><ion-icon name=\"link\"></ion-icon>\n  API Usage\n  </a>\n</h2>\n<p>To use a Capacitor plugin, follow these steps:</p>\n<p>1) Import the <code>Plugins</code> object. It represents the registry of all Capacitor plugins.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Plugins <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@capacitor/core'</span><span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  <p>2) Get a plugin from the Plugin Registry (<code>Plugins</code> object).</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> Browser <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Plugins<span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  <p>3) Use the plugin API:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">async</span> <span class=\"token function\">openBrowser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// On iOS, for example, open the URL in SFSafariViewController (the in-app browser)</span>\n  <span class=\"token keyword\">await</span> Browser<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> url<span class=\"token operator\">:</span> <span class=\"token string\">\"https://ionicframework.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  <p>A common mistake is to import a plugin directly, then use the plugin API immediately, resulting in the web implementation being used:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Browser <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@capacitor/core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token function\">openBrowser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// On iOS, for example, this will open the URL in Safari instead of</span>\n  <span class=\"token comment\">// the SFSafariViewController (in-app browser)</span>\n  <span class=\"token keyword\">await</span> Browser<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> url<span class=\"token operator\">:</span> <span class=\"token string\">\"https://ionicframework.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  <p>By using the plugins from the plugin registry (<code>Plugins</code> object), the native implementation of the plugin is used (if available), with fallback to the web version.</p>\n\n<h3 id=\"angular-notes\">\n  <a class=\"heading-link\" href=\"#angular-notes\"><ion-icon name=\"link\"></ion-icon>\n  Angular Notes\n  </a>\n</h3>\n<p>Capacitor plugin event listeners run outside of Angular&#39;s <code>NgZone</code> execution context. Contain handler logic within an <code>NgZone.run</code> block to ensure Angular&#39;s change detection is triggered:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> ngZone<span class=\"token operator\">:</span> NgZone<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  Network<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"networkStatusChange\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ngZone<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// This code will run in Angular's execution context</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>networkStatus <span class=\"token operator\">=</span> status<span class=\"token punctuation\">.</span>connected <span class=\"token operator\">?</span> <span class=\"token string\">\"Online\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Offline\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  "}