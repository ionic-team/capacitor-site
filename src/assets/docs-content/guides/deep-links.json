{"title":"Deep Links","description":"Implement deep linking functionality in an iOS and Android app","url":"/docs/guides/deep-links","contributors":["dotNetkow","jaydrogers","danpastori","mlynch"],"lastUpdated":"2020-07-09T14:01:04Z","headings":[{"id":"deep-linking-with-universal-and-app-links","level":1,"text":"Deep Linking with Universal and App Links"},{"id":"demo-video","level":2,"text":"Demo Video"},{"id":"prerequisites","level":2,"text":"Prerequisites"},{"id":"deep-link-routing-using-the-capacitor-app-api","level":2,"text":"Deep Link Routing using the Capacitor App API"},{"id":"angular","level":3,"text":"Angular"},{"id":"react","level":3,"text":"React"},{"id":"vue","level":3,"text":"Vue"},{"id":"creating-site-association-files","level":2,"text":"Creating Site Association Files"},{"id":"ios-configuration","level":2,"text":"iOS Configuration"},{"id":"create-site-association-file","level":3,"text":"Create Site Association File"},{"id":"add-associated-domain","level":3,"text":"Add Associated Domain"},{"id":"android-configuration","level":2,"text":"Android Configuration"},{"id":"create-site-association-file","level":3,"text":"Create Site Association File"},{"id":"add-intent-filter","level":3,"text":"Add Intent Filter"},{"id":"details-website-configuration","level":2,"text":"Details: Website Configuration"},{"id":"angular","level":3,"text":"Angular"},{"id":"nuxtjs","level":3,"text":"NuxtJS"},{"id":"react","level":3,"text":"React"},{"id":"wordpress","level":3,"text":"Wordpress"},{"id":"verification","level":2,"text":"Verification"},{"id":"resources","level":2,"text":"Resources"}],"srcPath":"./docs-md/guides/deep-links.md","content":"\n<h1 id=\"deep-linking-with-universal-and-app-links\">\n  \n  Deep Linking with Universal and App Links\n  \n</h1>\n<p><strong>Platforms</strong>: iOS, Android</p>\n<p>Universal links (iOS) and App Links (Android) offer the ability to take users directly to specific content within a native app (commonly known as deep linking).</p>\n<p>When users tap or click on a deep link, the user is sent directly into your app without routing through the device&#39;s web browser or website first. If the app isn&#39;t installed, then the user is directed to the website. If the user navigates directly to the website, they remain on the website.  This makes deep links an excellent feature for cross-platform apps built for the web, iOS, and Android: a seamless mobile experience, with graceful fallback to the website.</p>\n<p>Benefits:</p>\n<ul>\n<li>Secure: Universal/App Links use HTTPS URLs that link to a website domain that you own, ensuring that no other app can use your links.</li>\n<li>Seamless experience: One URL works for both your website and app, ensuring that users can successfully access the content they&#39;re looking for without errors.</li>\n<li>Increase Engagement: Links can be opened from email clients, search engine results, and more.</li>\n</ul>\n\n<h2 id=\"demo-video\">\n  <a class=\"heading-link\" href=\"#demo-video\"><ion-icon name=\"link\"></ion-icon>\n  Demo Video\n  </a>\n</h2>\n<p>Here&#39;s what it looks like in practice. In this example, the user has the native app installed. They tap on app links from an email and are brought directly into the app itself. First, the root link is tapped (<a href=\"https://beerswift.app\">https://beerswift.app</a>), which directs the user to the main app page. Next, a deep link is tapped (<a href=\"https://beerswift.app/tabs/tab3\">https://beerswift.app/tabs/tab3</a>) bringing the user to the Tab3 page.</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/vadlZ-d8wAI\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n\n<h2 id=\"prerequisites\">\n  <a class=\"heading-link\" href=\"#prerequisites\"><ion-icon name=\"link\"></ion-icon>\n  Prerequisites\n  </a>\n</h2>\n<ul>\n<li>A pre-configured <a href=\"/docs/getting-started\">Capacitor app</a>.</li>\n<li>For iOS, enrollment in the Apple Developer Program.</li>\n</ul>\n<p>For illustrative purposes, <a href=\"https://beerswift.app\">https://beerswift.app</a> will be used as the web app link.</p>\n\n<h2 id=\"deep-link-routing-using-the-capacitor-app-api\">\n  <a class=\"heading-link\" href=\"#deep-link-routing-using-the-capacitor-app-api\"><ion-icon name=\"link\"></ion-icon>\n  Deep Link Routing using the Capacitor App API\n  </a>\n</h2>\n<p>When the native app is opened after a deep link is clicked, the mobile OS doesn&#39;t automatically know where to route the user. This must be implemented within the app itself using the Capacitor <a href=\"/docs/apis/app\">App API</a> on app startup.</p>\n<p>If your website and app paths don&#39;t match, you will need to implement more advanced url pattern matching (see <a href=\"https://devdactic.com/universal-links-ionic/\">this guide</a> for examples). If your mobile app and web app use the same codebase though, this is very straightforward - just redirect to the same URL. The following examples assume this.</p>\n\n<h3 id=\"angular\">\n  <a class=\"heading-link\" href=\"#angular\"><ion-icon name=\"link\"></ion-icon>\n  Angular\n  </a>\n</h3>\n<p>Routing should be implemented in <code>app.component.ts</code>. Start by importing <code>NgZone</code> and <code>Router</code> from Angular, then <code>App</code> from Capacitor:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> NgZone <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Router <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/router'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Plugins <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@capacitor/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> App <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Plugins<span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  <p>Next, add <code>Router</code> and <code>NgZone</code> to the constructor:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> router<span class=\"token punctuation\">:</span> Router<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> zone<span class=\"token punctuation\">:</span> NgZone</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initializeApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  <p>Last, listen for the <code>appUrlOpen</code> event, and redirect when a deep link is found:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token function\">initializeApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    App<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appUrlOpen'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>zone<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// Example url: https://beerswift.app/tabs/tab2</span>\n            <span class=\"token comment\">// slug = /tabs/tab2</span>\n            <span class=\"token keyword\">const</span> slug <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>slug<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">navigateByUrl</span><span class=\"token punctuation\">(</span>slug<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\">// If no match, do nothing - let regular routing </span>\n            <span class=\"token comment\">// logic take over</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  \n<h3 id=\"react\">\n  <a class=\"heading-link\" href=\"#react\"><ion-icon name=\"link\"></ion-icon>\n  React\n  </a>\n</h3>\n<p>There&#39;s a variety of options for React. One approach is to wrap the App API listener functionality in a new component, then add it inside of <code>App.tsx</code>. Start by creating <code>AppUrlListener.tsx</code> then import the React Router <code>useHistory</code> hook as well as the Capacitor App API:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useHistory <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Plugins <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@capacitor/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> App<span class=\"token punctuation\">:</span> CapApp <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Plugins<span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  <p>Next, define the AppUrlListener component, listening for the <code>appUrlOpen</code> event then redirecting when a deep link is found:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">const</span> AppUrlListener<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> history <span class=\"token operator\">=</span> <span class=\"token function\">useHistory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        CapApp<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appUrlOpen'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// Example url: https://beerswift.app/tabs/tab2</span>\n            <span class=\"token comment\">// slug = /tabs/tab2</span>\n            <span class=\"token keyword\">const</span> slug <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>slug<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                history<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>slug<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token comment\">// If no match, do nothing - let regular routing </span>\n            <span class=\"token comment\">// logic take over</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> AppUrlListener<span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  <p>Over in <code>App.tsx</code>, import the new component:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">import</span> AppUrlListener <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/AppUrlListener'</span><span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  <p>Then add it inside of <code>IonReactRouter</code> (or wherever your app is bootstrapped, just ensure that the History hook is available):</p>\n\n  <highlight-code-line >\n    <pre class=\"language-tsx\"><code><span class=\"token keyword\">const</span> App<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IonApp</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IonReactRouter</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AppUrlListener</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AppUrlListener</span></span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IonRouterOutlet</span></span><span class=\"token punctuation\">></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/home<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Home<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">exact</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">exact</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">render</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Redirect</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/home<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">IonRouterOutlet</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">IonReactRouter</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">IonApp</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  \n<h3 id=\"vue\">\n  <a class=\"heading-link\" href=\"#vue\"><ion-icon name=\"link\"></ion-icon>\n  Vue\n  </a>\n</h3>\n<p>VueJS offers a first party routing system that integrates natively with Vue called Vue Router. To set up deep linking with Vue Router, start in the file that you used to configure all of your routes (usually <code>routes.js</code> or something similar).  </p>\n<p>First we import the capacitor <code>App</code> from plugins along with <code>Vue</code> and <code>VueRouter</code>.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Plugins <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@capacitor/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> App <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Plugins<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Vue <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> VueRouter <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-router'</span><span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  <p>Next, configure your routes using the Vue Router (more information on <a href=\"https://router.vuejs.org/guide/#javascript\">Getting Started with Vue Router</a>).</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VueRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    routes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n  </highlight-code-line>\n  <p>It&#39;s recommended to use <code>mode: history</code> so you don&#39;t have to deal with the <code>#</code>.</p>\n<p>Let Vue know that you are using Vue Router and register the router within Vue:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code><span class=\"token keyword\">const</span> VueApp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    router\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">$mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#app'</span><span class=\"token punctuation\">)</span></code></pre>\n  </highlight-code-line>\n  <p>Finally, we need to register our app for deep linking. To do that, we add an event listener to the <code>appUrlOpen</code> event on the Capacitor App. Capacitor will pick this up, then we hand it off to Vue Router to navigate to the page requested.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-typescript\"><code>App<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appUrlOpen'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span> <span class=\"token parameter\">data</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Example url: https://beerswift.app/tabs/tabs2</span>\n    <span class=\"token comment\">// slug = /tabs/tabs2</span>\n    <span class=\"token keyword\">const</span> slug <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// We only push to the route if there is a slug present</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span> slug <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            path<span class=\"token punctuation\">:</span> slug\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n  </highlight-code-line>\n  \n<h2 id=\"creating-site-association-files\">\n  <a class=\"heading-link\" href=\"#creating-site-association-files\"><ion-icon name=\"link\"></ion-icon>\n  Creating Site Association Files\n  </a>\n</h2>\n<p>In order for Apple and Google to permit deep links to open your app, a two-way association between your website and app must be created. One file for each must be created and placed within a <code>.well-known</code> folder on your website, like so: <a href=\"https://beerswift.app/.well-known/\">https://beerswift.app/.well-known/</a>.</p>\n<p>Continue on for iOS and Android configuration details.</p>\n\n<h2 id=\"ios-configuration\">\n  <a class=\"heading-link\" href=\"#ios-configuration\"><ion-icon name=\"link\"></ion-icon>\n  iOS Configuration\n  </a>\n</h2>\n<p>iOS configuration involves creating a site association file and configuring the native app to recognize the app domain.</p>\n<blockquote>\n<p>You must be enrolled in the Apple Developer Program.</p>\n</blockquote>\n\n<h3 id=\"create-site-association-file\">\n  <a class=\"heading-link\" href=\"#create-site-association-file\"><ion-icon name=\"link\"></ion-icon>\n  Create Site Association File\n  </a>\n</h3>\n<p>First, log into the <a href=\"https://developer.apple.com\">Apple Developer site</a>. Navigate to the &quot;Certificates, Identifiers, &amp; Profiles&quot; section and select your app&#39;s identifier. Note the Team ID and Bundle ID, and under Capabilities, toggle &quot;Associated Domains&quot; then save:</p>\n<p><img src=\"/assets/img/docs/guides/deep-links/ios-config.png\" alt=\"iOS Identifier Config\"></p>\n<p>Next, create the site association file (<code>apple-app-site-association</code>).</p>\n<blockquote>\n<p>Note: Despite being a JSON file, do not save it with a file extension.</p>\n</blockquote>\n<p>An example of the <code>apple-app-site-association</code> file is below. Be sure to replace <code>TEAMID.BUNDLEID</code> with your own IDs (example: <code>8L65AZE66A.com.netkosoft.beerswift</code>).</p>\n\n  <highlight-code-line >\n    <pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"applinks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"apps\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"details\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"appID\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"TEAMID.BUNDLEID\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"paths\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  <p>Next, upload the file to your web site (hosted on HTTPS), then validate that it&#39;s configured correctly using Apple&#39;s tool <a href=\"https://search.developer.apple.com/appsearch-validation-tool/\">here</a>. The URL should follow this format: <a href=\"https://beerswift.app/.well-known/apple-app-site-association\">https://beerswift.app/.well-known/apple-app-site-association</a></p>\n\n<h3 id=\"add-associated-domain\">\n  <a class=\"heading-link\" href=\"#add-associated-domain\"><ion-icon name=\"link\"></ion-icon>\n  Add Associated Domain\n  </a>\n</h3>\n<p>The final step is to configure the iOS app to recognize incoming links. Open Xcode, then navigate to Signing &amp; Capabilities. Click &quot;+ Capability&quot;, then choose Associated Domains. In the Domains entry that appears, edit it using the format <code>applinks:yourdomain.com</code>:</p>\n<p><img src=\"/assets/img/docs/guides/deep-links/xcode-associated-domain.png\" alt=\"Xcode Associated Domain\"></p>\n\n<h2 id=\"android-configuration\">\n  <a class=\"heading-link\" href=\"#android-configuration\"><ion-icon name=\"link\"></ion-icon>\n  Android Configuration\n  </a>\n</h2>\n<p>Android configuration involves creating a site association file and configuring the native app to recognize app links using an intent filter.</p>\n\n<h3 id=\"create-site-association-file\">\n  <a class=\"heading-link\" href=\"#create-site-association-file\"><ion-icon name=\"link\"></ion-icon>\n  Create Site Association File\n  </a>\n</h3>\n<p>The Site Association file requires the SHA256 fingerprint of your Android certificate.</p>\n<p>If you donâ€™t have one, create a certificate:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-shell\"><code>keytool -genkey -v -keystore KEY-NAME.keystore -alias ALIAS -keyalg RSA -keysize 2048 -validity 10000</code></pre>\n  </highlight-code-line>\n  <p>Using your existing (or newly created) Keystore certificate, use the keytool command to list the keystore&#39;s details:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-shell\"><code>keytool -list -v -keystore my-release-key.keystore</code></pre>\n  </highlight-code-line>\n  <p>The printed output will include the SHA256 fingerprint:</p>\n<p><img src=\"/assets/img/docs/guides/deep-links/keystore-sha256.png\" alt=\"Keytool output\"></p>\n<p>Next, use Google&#39;s <a href=\"https://developers.google.com/digital-asset-links/tools/generator\">Asset Links tool</a> to create the Site Association file. Fill in the website domain, app package name, and SHA256 fingerprint, then click &quot;Generate statement&quot;:</p>\n<p><img src=\"/assets/img/docs/guides/deep-links/android-config.png\" alt=\"Android Identifier Config\"></p>\n<p>Copy the JSON output into a new local file under <code>.well-known/assetlinks.json</code>.</p>\n\n  <highlight-code-line >\n    <pre class=\"language-json\"><code><span class=\"token comment\">// assetlinks.json</span>\n<span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"relation\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"delegate_permission/common.handle_all_urls\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"namespace\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"android_app\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"package_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.netkosoft.beerswift\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"sha256_cert_fingerprints\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"43:12:D4:27:D7:C4:14...\"</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre>\n  </highlight-code-line>\n  <p>Deploy the file to your website (hosted on HTTPS), then verify it by clicking the &quot;Test statement&quot; button in the Asset Link tool. If it&#39;s configured correctly, a Success message will appear:</p>\n<blockquote>\n<p>Success! Host [website] grants app deep linking to [app package].</p>\n</blockquote>\n\n<h3 id=\"add-intent-filter\">\n  <a class=\"heading-link\" href=\"#add-intent-filter\"><ion-icon name=\"link\"></ion-icon>\n  Add Intent Filter\n  </a>\n</h3>\n<p>The final step is to configure the Android app to recognize incoming links. To do so, <a href=\"https://developer.android.com/training/app-links/deep-linking#adding-filters\">add a new Intent Filter</a> to <code>AndroidManifest.xml</code> within the <code>&lt;activity&gt;</code> element:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>intent-filter</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>autoVerify</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.action.VIEW<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>category</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.category.DEFAULT<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>category</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.category.BROWSABLE<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>scheme</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>host</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>beerswift.app<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>intent-filter</span><span class=\"token punctuation\">></span></span></code></pre>\n  </highlight-code-line>\n  <p>The complete Activity should look similar to this:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-xml\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>activity</span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>configChanges</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>orientation|keyboardHidden|keyboard|screenSize|locale<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>com.netkosoft.beerswift.MainActivity<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>@string/title_activity_main<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>theme</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>@style/AppTheme.NoActionBarLaunch<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>launchMode</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>singleTask<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.action.MAIN<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>category</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.category.LAUNCHER<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>intent-filter</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>autoVerify</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.action.VIEW<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>category</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.category.DEFAULT<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>category</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.category.BROWSABLE<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>data</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>scheme</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>host</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>beerswift.app<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>activity</span><span class=\"token punctuation\">></span></span></code></pre>\n  </highlight-code-line>\n  \n<h2 id=\"details-website-configuration\">\n  <a class=\"heading-link\" href=\"#details-website-configuration\"><ion-icon name=\"link\"></ion-icon>\n  Details: Website Configuration\n  </a>\n</h2>\n<p>Website configuration will vary based on the tools and backend used. A few suggestions are below.</p>\n\n<h3 id=\"angular\">\n  <a class=\"heading-link\" href=\"#angular\"><ion-icon name=\"link\"></ion-icon>\n  Angular\n  </a>\n</h3>\n<p>Place the association files under <code>src/.well-known</code>. Next, configure the build process to deploy these files exactly as-is (ensuring that Apple/Google can read them correctly). Open <code>angular.json</code> and under <code>architect =&gt; assets</code>, add a new entry to the array:</p>\n\n  <highlight-code-line >\n    <pre class=\"language-json\"><code><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"glob\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"**/*\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"input\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"src/.well-known\"</span><span class=\"token punctuation\">,</span>\n    \"output<span class=\"token string\">\": \"</span>.well-known/\"\n<span class=\"token punctuation\">}</span></code></pre>\n  </highlight-code-line>\n  <p>Build then deploy the site.</p>\n\n<h3 id=\"nuxtjs\">\n  <a class=\"heading-link\" href=\"#nuxtjs\"><ion-icon name=\"link\"></ion-icon>\n  NuxtJS\n  </a>\n</h3>\n<p>Place the association files under <code>static/.well-known</code>. No additional steps are necessary; simply build then deploy the site.</p>\n\n<h3 id=\"react\">\n  <a class=\"heading-link\" href=\"#react\"><ion-icon name=\"link\"></ion-icon>\n  React\n  </a>\n</h3>\n<p>Place the association files under <code>public/.well-known</code>. No additional steps are necessary; simply build then deploy the site.</p>\n\n<h3 id=\"wordpress\">\n  <a class=\"heading-link\" href=\"#wordpress\"><ion-icon name=\"link\"></ion-icon>\n  Wordpress\n  </a>\n</h3>\n<p>See <a href=\"https://devdactic.com/universal-links-ionic/\">here</a> for Wordpress instructions.</p>\n\n<h2 id=\"verification\">\n  <a class=\"heading-link\" href=\"#verification\"><ion-icon name=\"link\"></ion-icon>\n  Verification\n  </a>\n</h2>\n<p>To verify that the websites and the native apps are configured correctly, the website needs to host the Site Association files but the apps do not need to be in the app stores.</p>\n<p>Connect a device to your computer, build and deploy the native apps, then test by tapping on website links. If the native app opens, all steps have been implemented correctly.</p>\n\n<h2 id=\"resources\">\n  <a class=\"heading-link\" href=\"#resources\"><ion-icon name=\"link\"></ion-icon>\n  Resources\n  </a>\n</h2>\n<ul>\n<li>Branch.io: <a href=\"https://branch.io/what-is-deep-linking/\">What is Deep Linking?</a></li>\n<li>Android: <a href=\"https://developer.android.com/training/app-links\">App Links</a></li>\n<li>iOS: <a href=\"https://developer.apple.com/documentation/uikit/inter-process_communication/allowing_apps_and_websites_to_link_to_your_content\">Universal Links</a></li>\n<li>iOS: <a href=\"https://developer.apple.com/documentation/uikit/inter-process_communication/allowing_apps_and_websites_to_link_to_your_content/enabling_universal_links\">Enabling Universal Links</a></li>\n</ul>\n"}